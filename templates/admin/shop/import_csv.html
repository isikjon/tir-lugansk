{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block title %}{{ title }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url 'admin:shop_importfile_changelist' %}">–ò–º–ø–æ—Ä—Ç —Ñ–∞–π–ª—ã</a>
    &rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<div class="module aligned">
    <h1>{{ title }}</h1>
    
    <div style="background: #e7f3ff; border: 1px solid #b8daff; padding: 15px; margin-bottom: 20px; border-radius: 5px;">
        <h3 style="margin-top: 0; color: #0056b3;">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–º–ø–æ—Ä—Ç—É</h3>
        <p><strong>–ü—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞:</strong></p>
        <ol>
            <li><strong>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</strong> - —Ñ–∞–π–ª –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è</li>
            <li><strong>–ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–∞</strong> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∏ –ø–æ–¥—Å—á–µ—Ç –∑–∞–ø–∏—Å–µ–π</li>
            <li><strong>–ó–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞</strong> - –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥</li>
        </ol>
        
        <div style="display: flex; gap: 20px;">
            <div style="flex: 1;">
                <h4 style="color: #0056b3; margin-bottom: 10px;">üìä DBF —Ñ–∞–π–ª—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</h4>
                <p><strong>–§–æ—Ä–º–∞—Ç:</strong> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö dBase</p>
                <p><strong>–ö–æ–¥–∏—Ä–æ–≤–∫–∞:</strong> CP1251</p>
                <p><strong>–ü–æ–ª—è:</strong></p>
                <ul style="font-size: 12px;">
                    <li><code>TMP_ID</code> - –ö–æ–¥ —Ç–æ–≤–∞—Ä–∞</li>
                    <li><code>NAME</code> - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</li>
                    <li><code>PROPERTY_P</code> - –ë—Ä–µ–Ω–¥</li>
                    <li><code>PROPERTY_T</code> - –ö–∞—Ç–∞–ª–æ–∂–Ω—ã–π –Ω–æ–º–µ—Ä</li>
                    <li><code>PROPERTY_A</code> - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä</li>
                    <li><code>PROPERTY_M</code> - –ü—Ä–∏–º–µ–Ω—è–µ–º–æ—Å—Ç—å</li>
                    <li><code>PROPERTY_C</code> - –ö—Ä–æ—Å—Å-–∫–æ–¥</li>
                    <li><code>SECTION_ID</code> - –ö–∞—Ç–µ–≥–æ—Ä–∏—è</li>
                </ul>
            </div>
            
            <div style="flex: 1;">
                <h4 style="color: #dc7633; margin-bottom: 10px;">üìÑ CSV —Ñ–∞–π–ª—ã (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)</h4>
                <p><strong>–§–æ—Ä–º–∞—Ç:</strong> CSV —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º (#)</p>
                <p><strong>–ö–æ–¥–∏—Ä–æ–≤–∫–∞:</strong> –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</p>
                <p><strong>–ü–æ–ª—è (—Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç):</strong></p>
                <ul style="font-size: 12px;">
                    <li><code>TMP_ID</code> - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ 1–°</li>
                    <li><code>NAME</code> - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</li>
                    <li><code>PROPERTY_PRODUCER_ID</code> - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</li>
                    <li><code>PROPERTY_TMC_NUMBER</code> - –ù–æ–º–µ—Ä –¢–ú–¶</li>
                    <li><code>PROPERTY_ARTIKYL_NUMBER</code> - –î–æ–ø. –Ω–æ–º–µ—Ä</li>
                    <li><code>PROPERTY_MODEL_AVTO</code> - –ü—Ä–∏–º–µ–Ω—è–µ–º–æ—Å—Ç—å</li>
                    <li><code>PROPERTY_CROSS_NUMBER</code> - –ö—Ä–æ—Å—Å-–∫–æ–¥</li>
                    <li><code>SECTION_ID</code> - –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–Ω–∞—è –≥—Ä—É–ø–ø–∞</li>
                </ul>
            </div>
        </div>
        
        <p><strong>‚úÖ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
        <ul>
            <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –±—Ä–µ–Ω–¥–æ–≤</li>
            <li>–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ slug –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞</li>
            <li>–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (200k+ –∑–∞–ø–∏—Å–µ–π)</li>
            <li>–§–æ–Ω–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</li>
            <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–º–µ–Ω—ã –∏–º–ø–æ—Ä—Ç–∞</li>
        </ul>
    </div>
    
    <form method="post" enctype="multipart/form-data" class="upload-form">
        {% csrf_token %}
        
        <fieldset class="module aligned">
            <h2>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h2>
            
            <div class="form-row">
                <div>
                    <label for="id_csv_file" class="required">–§–∞–π–ª –∏–º–ø–æ—Ä—Ç–∞:</label>
                    <input type="file" name="csv_file" id="id_csv_file" accept=".csv,.dbf" required>
                    <div class="help">
                        –í—ã–±–µ—Ä–∏—Ç–µ DBF —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ CSV —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑ 1–° –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤
                    </div>
                </div>
            </div>
        </fieldset>
        
        <div class="submit-row">
            <input type="submit" value="–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª" class="default">
            <a href="{% url 'admin:shop_importfile_changelist' %}" class="button cancel-link">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>

<style>
.upload-form {
    max-width: 600px;
}

.form-row {
    margin-bottom: 20px;
}

.form-row label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.form-row input[type="file"] {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.help {
    font-size: 11px;
    color: #666;
    margin-top: 5px;
}

.submit-row {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #eee;
}

.cancel-link {
    margin-left: 10px;
    text-decoration: none;
    color: #666;
    padding: 10px 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.cancel-link:hover {
    background: #f5f5f5;
}

code {
    background: #f8f9fa;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: monospace;
    font-size: 12px;
}
</style>
{% endblock %} 